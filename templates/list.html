{% extends "layout.html" %}
{% block tab_title %}Question list{% endblock %}
{% block page_header %}Question list{% endblock %}
{% block content %}
    <p>
        <a href="/add-question">Add question</a>
    </p>
    <form action="/list">
    <p>Sort by:</p>
    <select name="order_by" id="order_by">
    	<option>Submission time</option>
    	<option>View number</option>
    	<option>Vote number</option>
    	<option>Title</option>
    	<option>Message</option>
    </select>
    <br>
    <select name="order_direction" id="order_direction">
    	<option>ascending</option>
    	<option>descending</option>
    </select><br>
    <button type="submit">Sort</button>
    </form>
    <form action="/search">
        <input type="text" name="q" id="q" placeholder="Search...">
        <button type="submit">Search</button>
    </form>
    <p>
        <table>
            <tr>
                <th>ID</th>
                <th>Submission time</th>
                <th>View number</th>
                <th>Vote number</th>
                <th>Vote</th>
                <th>Title</th>
                <th>Message</th>
                <th>Image</th>
            </tr>
            {% for line in questions %}
                <tr>
                    <td>{{ line['id'] }}</td>
                    <td>{{ line['submission_time'] }}</td>
                    <td>{{ line['view_number'] }}</td>
                    <td>{{ line['vote_number'] }} points</td>
                    <td style="width:100px"><a href="/question/{{ line['id'] }}/vote_up">Vote Up</a><br><a href="/question/{{ line['id'] }}/vote_down">Vote Down</a></td>
                    <td><a href="/question/{{ line['id'] }}">{{line['title']}}</a></td>
                    <td  style="width:500px">{{ line['message'] }}</td>
                    <td><img src="{{ url_for('static', filename='Image/'~line['image']) if line['image'] }}" width="100"></td>
                 </tr>
            {% endfor %}
        </table>
    </p>

    {% include 'footer.html' %}
{%endblock%}
